{
	"id": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
	"name": "Sync Quickstart",
	"description": "",
	"order": [
		"fc43f92c-5e4e-1e11-ab40-1dc5d7c30ffa",
		"74c8e255-9ea6-cd98-12f5-5bd6ff2b7fbd",
		"d7696842-139f-0501-71d4-e2783ee0828e",
		"b007a3ec-27d5-889f-3947-2c189212bbdd",
		"4f255395-bdcc-6ca6-478b-dd9e8192d5b4",
		"fe504a4a-6dc3-903a-f31e-d2916330f88e",
		"bc4d3b77-4af0-e37c-bbe5-98fb918bb5d0",
		"276a1d91-6526-e276-ae87-264f3ff6ca3e",
		"ec3c216b-def8-a7c1-1845-79cd6ac3534c"
	],
	"folders": [],
	"timestamp": 1470928607446,
	"owner": "772710",
	"remoteLink": "",
	"public": false,
	"published": false,
	"requests": [
		{
			"id": "276a1d91-6526-e276-ae87-264f3ff6ca3e",
			"headers": "",
			"url": "{{sync_head_url}}transactions?token={{sync_token}}&id_credential={{sync_id_credential}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"version": 2,
			"tests": "\nvar jsonData = JSON.parse(responseBody);\ntests[\"Gets transactions\"] = jsonData.code === 200;\n\nif(tests[\"Gets transactions\"]){\n    var jsonData = JSON.parse(responseBody);\n    transactions = jsonData.response;\n    tests[\"Transactions synchronized \" + transactions.length] = true;\n}//End of if\n\n\n\n\n\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1470932366273,
			"name": "Get transactions",
			"description": "",
			"collectionId": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
			"responses": []
		},
		{
			"id": "4f255395-bdcc-6ca6-478b-dd9e8192d5b4",
			"headers": "",
			"url": "{{sync_head_url}}catalogues/sites?token={{sync_token}}&is_test=true",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "\nvar jsonData = JSON.parse(responseBody);\ntests[\"Got test sites (institutions)\"] = jsonData.code === 200;\n\nif(tests[\"Got test sites (institutions)\"]){\n    var jsonData = JSON.parse(responseBody);\n    test_sites = jsonData.response;\n    for(var i=0; i<test_sites.length; i++){\n        test_site = test_sites[i];\n        tests[i + '. ' + test_site.name] = true;\n        if(test_site.name == 'Normal'){\n            postman.setGlobalVariable(\"sync_id_test_site\", test_site.id_site);\n            tests['Got \"Normal\" id_site'] = true;\n        }//End of if\n    }//End of for\n}//End of if\n\n\n\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1470930158729,
			"name": "Get testing sites (institutions)",
			"description": "",
			"collectionId": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
			"responses": []
		},
		{
			"id": "74c8e255-9ea6-cd98-12f5-5bd6ff2b7fbd",
			"headers": "Content-Type: application/json\n",
			"url": "{{sync_head_url}}users?api_key={{sync_api_key}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "\nvar jsonData = JSON.parse(responseBody);\ntests[\"Creates a new user\"] = jsonData.code === 200;\n\nif(tests[\"Creates a new user\"]){\n    var jsonData = JSON.parse(responseBody);\n    user = jsonData.response;\n    tests[\"User \" + user.id_user] = true;\n    postman.setGlobalVariable(\"sync_id_user\", user.id_user);\n}//End of if\n\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1470929541746,
			"name": "Creates a new user",
			"description": "",
			"collectionId": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
			"responses": [],
			"rawModeData": "{\n    \"api_key\" : \"{{sync_api_key}}\",\n    \"name\" : \"{{sync_username}}\"\n}"
		},
		{
			"id": "b007a3ec-27d5-889f-3947-2c189212bbdd",
			"headers": "Content-Type: application/json\n",
			"url": "{{sync_head_url}}sessions?api_key={{sync_api_key}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "\nvar jsonData = JSON.parse(responseBody);\ntests[\"Inits a session\"] = jsonData.code === 200;\n\nif(tests[\"Inits a session\"]){\n    var jsonData = JSON.parse(responseBody);\n    session = jsonData.response;\n    tests[\"Session token \" + session.token] = true;\n    postman.setGlobalVariable(\"sync_token\", session.token);\n}//End of if\n\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1470929667382,
			"name": "Inits session",
			"description": "",
			"collectionId": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
			"responses": [],
			"rawModeData": "{\n    \"api_key\" : \"{{sync_api_key}}\",\n    \"id_user\" : \"{{sync_id_user}}\"\n}"
		},
		{
			"id": "bc4d3b77-4af0-e37c-bbe5-98fb918bb5d0",
			"headers": "",
			"url": "{{sync_status_url}}?token={{sync_token}}",
			"pathVariables": {},
			"preRequestScript": null,
			"method": "GET",
			"collectionId": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
			"data": null,
			"dataMode": "params",
			"name": "Check credentials sync status",
			"description": "",
			"descriptionFormat": "html",
			"time": 1470930722602,
			"version": 2,
			"responses": [],
			"tests": "\n\nvar jsonData = JSON.parse(responseBody);\ntests[\"Checking credentials sync status\"] = jsonData.code === 200;\n\nif(tests[\"Checking credentials sync status\"]){\n    var jsonData = JSON.parse(responseBody);\n    status = jsonData.response;\n}//End of if\n\n\n\n\n\n\n",
			"currentHelper": "normal",
			"helperAttributes": {}
		},
		{
			"id": "d7696842-139f-0501-71d4-e2783ee0828e",
			"headers": "",
			"url": "{{sync_head_url}}users?api_key={{sync_api_key}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "\nvar jsonData = JSON.parse(responseBody);\ntests[\"Got API key users (again)\"] = jsonData.code === 200;\n\nif(tests[\"Got API key users (again)\"]){\n    var jsonData = JSON.parse(responseBody);\n    users = jsonData.response;\n    tests[\"Users obtained: \" + users.length] = true;\n}//End of if\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1470929311592,
			"name": "Get users linked to an API key (again)",
			"description": "",
			"collectionId": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
			"responses": []
		},
		{
			"id": "ec3c216b-def8-a7c1-1845-79cd6ac3534c",
			"headers": "",
			"url": "{{sync_head_url}}users/{{sync_id_user}}?api_key={{sync_api_key}}",
			"pathVariables": {},
			"preRequestScript": null,
			"method": "DELETE",
			"collectionId": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
			"data": null,
			"dataMode": "params",
			"name": "Deletes user",
			"description": "",
			"descriptionFormat": "html",
			"time": 1470932348908,
			"version": 2,
			"responses": [],
			"tests": "tests[\"Testing user deleted\"] = responseCode.code === 200;\n\npostman.clearGlobalVariable(\"sync_id_user\");\npostman.clearGlobalVariable(\"sync_token\");\npostman.clearGlobalVariable(\"sync_id_test_site\");\npostman.clearGlobalVariable(\"sync_id_credential\");\npostman.clearGlobalVariable(\"sync_status_url\");\npostman.clearGlobalVariable(\"sync_head_url\");\npostman.clearGlobalVariable(\"sync_username\");\n\ntests[\"Postman global data deleted\"] = true;",
			"currentHelper": "normal",
			"helperAttributes": {}
		},
		{
			"id": "fc43f92c-5e4e-1e11-ab40-1dc5d7c30ffa",
			"headers": "",
			"url": "{{sync_head_url}}users?api_key={{sync_api_key}}",
			"preRequestScript": "\npostman.setGlobalVariable(\"sync_head_url\", \"https://sync.paybook.com/v1/\");\npostman.setGlobalVariable(\"sync_username\", \"postman_test\");",
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "\nvar jsonData = JSON.parse(responseBody);\ntests[\"Got API key users\"] = jsonData.code === 200;\n\nif(tests[\"Got API key users\"]){\n    var jsonData = JSON.parse(responseBody);\n    users = jsonData.response;\n    tests[\"Users obtained: \" + users.length] = true;\n}//End of if\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1470932006877,
			"name": "Get users linked to an API key",
			"description": "",
			"collectionId": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
			"responses": []
		},
		{
			"id": "fe504a4a-6dc3-903a-f31e-d2916330f88e",
			"headers": "Content-Type: application/json\n",
			"url": "{{sync_head_url}}credentials",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "\nvar jsonData = JSON.parse(responseBody);\ntests[\"Creates new credentials\"] = jsonData.code === 200;\n\nif(tests[\"Creates new credentials\"]){\n    var jsonData = JSON.parse(responseBody);\n    credentials = jsonData.response;\n    postman.setGlobalVariable(\"sync_id_credential\", credentials.id_credential);\n    postman.setGlobalVariable(\"sync_status_url\", credentials.status);\n    tests[\"Got credentials status url: \" + credentials.status] = true;\n}//End of if\n\n\n\n\n\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1470930521888,
			"name": "Create a new credentials",
			"description": "",
			"collectionId": "1ff9d6e8-d07b-71f9-4859-8b99e5a5f14d",
			"responses": [],
			"rawModeData": "{\"id_site\": \"{{sync_id_test_site}}\", \"credentials\": {\"username\": \"test\", \"password\": \"test\"}, \"token\": \"{{sync_token}}\"}"
		}
	]
}